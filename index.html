<!DOCTYPE html>
<html lang="th">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>TripA-B Tracker</title>

  <!-- ‚úÖ PWA Manifest -->
  <link rel="manifest" href="./manifest.json" />

  <!-- ‚úÖ Icons -->
  <link rel="icon" href="./icon-192.png" type="image/png" />
  <link rel="apple-touch-icon" href="./icon-512.png" />

  <!-- ‚úÖ Meta -->
  <meta name="theme-color" content="#0d6efd" />
  <meta name="description" content="TripA-B Tracking Progressive Web App" />
</head>

<body>
  <noscript>‡∏ï‡πâ‡∏≠‡∏á‡πÄ‡∏õ‡∏¥‡∏î‡πÉ‡∏ä‡πâ‡∏á‡∏≤‡∏ô JavaScript ‡πÄ‡∏û‡∏∑‡πà‡∏≠‡πÉ‡∏´‡πâ‡πÄ‡∏ß‡πá‡∏ö‡∏ó‡∏≥‡∏á‡∏≤‡∏ô‡πÑ‡∏î‡πâ</noscript>

  <!-- Loader -->
  <div id="loading" style="text-align:center; margin-top:40vh;">
    <h3>üöó ‡∏Å‡∏≥‡∏•‡∏±‡∏á‡πÇ‡∏´‡∏•‡∏î TripA-B...</h3>
  </div>

  <script>
    // ‚úÖ ‡πÇ‡∏´‡∏•‡∏î Service Worker ‡∏Å‡πà‡∏≠‡∏ô‡πÄ‡∏Ç‡πâ‡∏≤‡πÅ‡∏≠‡∏õ
    if ('serviceWorker' in navigator) {
      navigator.serviceWorker
        .register('./service-worker.js')
        .then(() => {
          console.log('[SW] Registered');
          // ‡∏£‡∏≠‡πÉ‡∏´‡πâ service worker ‡∏ó‡∏≥‡∏á‡∏≤‡∏ô‡∏Å‡πà‡∏≠‡∏ô redirect
          setTimeout(() => {
            window.location.href = './TripA-B.html';
          }, 600);
        })
        .catch(err => {
          console.warn('[SW] Failed:', err);
          window.location.href = './TripA-B.html';
        });
    } else {
      window.location.href = './TripA-B.html';
    }
  </script>
</body>
</html>
