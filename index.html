<!DOCTYPE html>
<html lang="th">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>TripA-B Tracker</title>

  <!-- PWA Manifest -->
  <link rel="manifest" href="./manifest.json">

  <!-- Icons (optional) -->
  <link rel="icon" href="./icons/icon-192.png" type="image/png" />

  <!-- Meta for mobile -->
  <meta name="theme-color" content="#0d6efd" />
  <meta name="description" content="TripA-B Tracking Progressive Web App" />

  <!-- Style -->
  <link rel="stylesheet" href="./TripA-B.css">
</head>

<body>
  <noscript>‡∏ï‡πâ‡∏≠‡∏á‡πÄ‡∏õ‡∏¥‡∏î‡πÉ‡∏ä‡πâ‡∏á‡∏≤‡∏ô JavaScript ‡πÄ‡∏û‡∏∑‡πà‡∏≠‡πÉ‡∏´‡πâ‡πÄ‡∏ß‡πá‡∏ö‡∏ó‡∏≥‡∏á‡∏≤‡∏ô‡πÑ‡∏î‡πâ</noscript>

  <!-- Loader -->
  <div id="loading" style="text-align:center; margin-top:40vh;">
    <h3>üöó ‡∏Å‡∏≥‡∏•‡∏±‡∏á‡πÇ‡∏´‡∏•‡∏î TripA-B...</h3>
  </div>

  <!-- Main content -->
  <iframe 
    src="./TripA-B.html" 
    id="mainApp"
    style="width:100%; height:100vh; border:none; display:none;">
  </iframe>

  <script>
    // ‡πÇ‡∏´‡∏•‡∏î TripA-B ‡∏´‡∏•‡∏±‡∏á‡∏à‡∏≤‡∏Å DOM ‡∏û‡∏£‡πâ‡∏≠‡∏°
    window.addEventListener('DOMContentLoaded', () => {
      const iframe = document.getElementById('mainApp');
      iframe.onload = () => {
        document.getElementById('loading').style.display = 'none';
        iframe.style.display = 'block';
      };
    });

    // ‡∏™‡∏°‡∏±‡∏Ñ‡∏£ Service Worker
    if ('serviceWorker' in navigator) {
      navigator.serviceWorker.register('./service-worker.js')
        .then(reg => console.log('[SW] Registered:', reg.scope))
        .catch(err => console.warn('[SW] Failed:', err));
    }
  </script>
</body>
</html>
